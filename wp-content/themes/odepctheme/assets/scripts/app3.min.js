var viewportHeight = $(window).height();
var viewportWidth = $(window).width();

var initFunctions = {
  matchHeight: function(){

  },
  videoPlay: function(wrapper) {
    var iframe = wrapper.find('.js-videoIframe');
    var src = iframe.data('src');
    wrapper.addClass('videoWrapperActive');
    iframe.attr('src',src);
  },
  menuToggle: function() {
    $(".navbar-toggler").click(function () {
      $(".collapse.navbar-collapse").slideToggle("show");
    });
  },
  sectionBg: function () {
    var sectionBg = $('[data-bg]');
    $(sectionBg).each(function () {
        var bg = $(this).attr('data-bg');
        $(this).css("background-image", "url(" + bg + ")").addClass('add-overlay');
    });
  }
}

var initSliders = {
  heroSlider: function() {
    $("#hero-slider").slick({
      autoplay: false,
      speed: 800,
      lazyLoad: 'progressive',
      fade: true,
      arrows: false,
      dots: true,
      prevArrow: '<button class="slide-arrow prev-arrow"><i class="iconmoon icon-arrow-left" aria-hidden="true"></i></button>',
      nextArrow: '<button class="slide-arrow next-arrow"><i class="iconmoon icon-arrow-right" aria-hidden="true"></i></button>',
      responsive: [
          {
              breakpoint: 991,
              settings: {
                  arrows: false
              }
          }
      ]
    });
  },
  thumbnailSLider: function() {
    $(".thumbnail-slider").slick({
      slidesToShow: 5,
      slidesToScroll: 1,
      autoplay: true,
      autoplaySpeed: 2000,
      arrows: false,
      responsive: [
          {
              breakpoint: 1200,
              settings: {
                  slidesToShow: 4,
                  slidesToScroll: 4
              }
          },
          {
              breakpoint: 736,
              settings: {
                  slidesToShow: 2,
                  slidesToScroll: 2
                  // prevArrow: false,
                  // nextArrow: false
              }
          }
      ]
    });
  },
  generalSlider: function() {
    $('.row.slider').slick({
      dots: true,
      arrows: false,
      infinite: false,
      adaptiveHeight: true,
      responsive: [
        {
          breakpoint: 1200,
          settings: {
            slidesToShow: 4,
            slidesToScroll: 1
          }
        },
        {
          breakpoint: 991,
          settings: {
            slidesToShow: 2,
            slidesToScroll: 1
          }
        },
        {
          breakpoint: 736,
          settings: {
            slidesToShow: 1,
            slidesToScroll: 1
          }
        }
      ]
    });
  }
}

var initLibraries = {
  counterUp: function() {
    $('.counter').counterUp({
      delay: 10,
      time: 1000
    });
  },
  initSelect2: function () {
    $('.selectpicker').select2({
      placeholder: false,
    });
  },
    initSelect2NoSearch: function () {
        $('.selectpicker.hide-search').select2({
            placeholder: false,
            minimumResultsForSearch: -1
        });
    },
  slickSliders: function() {
    initSliders.heroSlider();
    initSliders.thumbnailSLider();
    initSliders.generalSlider();
  },

}


$(document).on('click','.js-videoPoster',function(e) {
  e.preventDefault();
  var poster = $(this);
  var wrapper = poster.closest('.js-videoWrapper');
  initFunctions.videoPlay(wrapper);
});


$(document).ready(function() {
    initFunctions.menuToggle();
    initFunctions.sectionBg();
    initLibraries.slickSliders();
    initLibraries.initSelect2();
    initLibraries.initSelect2NoSearch();
});

// rules: { inputimage: { required: true, extension: "png|jpe?g|gif", filesize: 1048576 } },
